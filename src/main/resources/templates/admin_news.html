<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<body>
<div th:if="${action == 'news_change'}  or ${action == 'news_add'} or ${action == 'news_list'}" class="relative"
     th:fragment="news_options">
    <div class="title" th:if="${action == 'news_add'}">Добавление новости</div>
    <div class="page_title" th:if="${action == 'news_list'} or ${action == 'news_change'}">Изменение новости</div>
    <form class="main_form" method="post" th:attr="action=@{${action == 'news_add'?'/admin/news_add':'/admin/news_change'}}"
          th:object="${news}">

        <div class="news_main_params" th:if="${action == 'news_add'} or ${action == 'news_change'}">
            <a th:if="${action == 'news_change'}" th:href="@{/admin/news_delete(id=${news.id})}"><img
                    title="удалить" class="remove_img" src="/images/delete.png"></a>


            <input th:if="${action == 'news_change'}" th:field="*{id}" id="news_id" name="news_id"
                   type="hidden">

            <div class="group">
                <input th:field="*{name}" id="news_name" name="news_name" type="text" required>
                <span class="bar"></span>
                <label class="label_input">Название</label>
            </div>

            <div class="group">
                <input th:field="*{longNews}" id="longNews" name="longNews" type="text" required>
                <span class="bar"></span>
                <label class="label_input">Новость</label>
            </div>

            <div class="group">
                <input th:field="*{date}" id="date" name="date" type="text" required>
                <span class="bar"></span>
                <label class="label_input">Дата</label>
            </div>

            <input id="submit" th:if="${action == 'news_add'}" value="Добавить новость" type="submit">
            <input id="submit" th:if="${action == 'news_change'}" value="Сохранить новость" type="submit">
        </div>
    </form>
    <div class="page_title" th:if="${action == 'news_list'}">Изменение новости</div>
    <div id="news_list" th:if="${action == 'news_list'} and not ${#lists.isEmpty(news_list)}" class="change_options">
        <div class="admin_card_item" th:each="news : ${news_list}">
            <a th:href="@{/admin/news_delete(id=${news.id})}"><img title="удалить" class="remove_card_img" src="/images/delete.png"></a>
            <div><a class="black_link" th:href="@{/admin/news_change('id'=${news.id})}" th:text="${news.name}"></a></div>
            <div th:utext="${news.longNews}"></div>
            <div th:text="${news.date}"></div>
        </div>
    </div>
</div>
</body>
</html>